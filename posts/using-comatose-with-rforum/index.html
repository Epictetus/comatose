<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>Comatose :: Using Comatose With rForum</title>
    <script src="../../theme/scripts/code_highlighter.js"></script>
    <script src="../../theme/scripts/code_syntax.js"></script>
    <link href="../../theme/styles/main.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../../theme/styles/code_syntax.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="posts/feed.xml" title="RSS Feed" rel="alternate" type="application/rss+xml" />
    <script type="text/javascript" src="http://www.haloscan.com/load/comatose"></script>
    
  </head>
  <body>
    <div class="header-logo">
      <div class="header-text">
        <h1>Comatose</h1>
        <div class="subtitle">
          The Rails Micro CMS Plugin
        </div>
      </div>
    </div>
    <div class="sidebar">
      <div class="navigation">
        <ul>
          <li><a href="../../index.html">Home</a></li>
          <li><a href="../../posts/index.html">Devblog</a></li>
          <li><a href="../../pages/getting-started/index.html">Getting Started</a></li>
          <li><a href="../../pages/index.html">Tutorials</a></li>
          <li><a href="http://github.com/darthapo/comatose/tree/master">@GitHub</a></li>
          <li><a href="http://code.google.com/p/comatose-plugin/issues/entry">Report A Bug</a></li>
        </ul>
        
        <div class="donation">
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
        <input name="cmd" type="hidden" value="_s-xclick" />
        <input name="submit" type="image" src="https://www.paypal.com/en_US/i/btn/x-click-but21.gif" border="0" alt="Make payments with PayPal - it's fast, free and secure!" />
        <img src="https://www.paypal.com/en_US/i/scr/pixel.gif" border="0" height="1" alt="" width="1" />
        <input name="encrypted" type="hidden" value="-----BEGIN PKCS7-----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-----END PKCS7-----" />
        </form>
        </div>
        
        <div class="recent-comments">
          <h3>Recent Comments...</h3>
          <script type="text/javascript" src="http://www.haloscan.com/members/recent/comatose/"> </script>
        </div>

        <p>&nbsp;</p>
        
        <div class="sidebar-ad">
          <script type="text/javascript"><!--
          google_ad_client = "pub-4148538552356376";
          google_alternate_color = "FFFFFF";
          google_ad_width = 120;
          google_ad_height = 240;
          google_ad_format = "120x240_as";
          google_ad_type = "text_image";
          google_ad_channel ="3834916953";
          google_color_border = "CCCCCC";
          google_color_bg = "FFFFFF";
          google_color_link = "7F7F7F";
          google_color_text = "000000";
          google_color_url = "008000";
          //--></script>
          <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
          </script>
        </div>
      </div>
    </div>
    <div class="page-container">
      <div class="contents">
        <div id="header-ad">
          <script type="text/javascript"><!--
          google_ad_client = "pub-4148538552356376";
          google_alternate_color = "FFFFFF";
          google_ad_width = 120;
          google_ad_height = 90;
          google_ad_format = "120x90_0ads_al";
          google_ad_channel ="3834916953";
          google_color_border = "CCCCCC";
          google_color_bg = "FFFFFF";
          google_color_link = "7F7F7F";
          google_color_text = "000000";
          google_color_url = "008000";
          //--></script>
          <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
          </script>
        </div>
        
<div class="pager">

  <a href="../../posts/oh-and-im-back/index.html" class="prev">&laquo; Oh, And I'm Back</a>

<a href="../../posts/index.html" class="home">&#9679;</a>

  <a href="../../posts/comatose-0-7-released/index.html" class="next">Comatose 0.7 Released! &raquo;</a>

</div>
<div class="post">
  <h2>Using Comatose With rForum</h2>
  <div class="meta">
    Published on 08/31/2006. 281 words. <span class="comments" title="Comments"><a href="javascript:HaloScan('using-comatose-with-rforum');" target="_self"><script type="text/javascript">postCount('using-comatose-with-rforum');</script></a></span>
  </div>
  <div class="body">
    
  <p>Several people have been reporting issues with <a href="http://rubyforge.org/projects/rforum">rForum</a>. The error messages can be a little deceiving, leading you to believe the error is in <code>navbar.rb</code> or a @Localization@ class.</p>

  <p>Actually, the problem has to do with Rails&#8217; loading sequence. Plugin code is loaded before the application code. In some applications this can lead to problems.</p>

  <p>So, you have two options for fixing the rForum problem.</p>

  <p><strong>Option One</strong></p>

  <p>Remembering that plugins are loaded alphabetically, we create a simple plugin that will load before Comatose that includes the appropriate rForum startup code.</p>

  <p>In the console, enter:</p>

  <pre><code>./script/generate plugin 01_app_loader
  </code></pre>

  <p>It should spit out:</p>

  <pre><code>  create  vendor/plugins/01_app_loader/lib
    create  vendor/plugins/01_app_loader/tasks
    create  vendor/plugins/01_app_loader/test
    create  vendor/plugins/01_app_loader/README
    create  vendor/plugins/01_app_loader/Rakefile
    create  vendor/plugins/01_app_loader/init.rb
    create  vendor/plugins/01_app_loader/install.rb
    create  vendor/plugins/01_app_loader/lib/01_app_loader.rb
    create  vendor/plugins/01_app_loader/tasks/01_app_loader_tasks.rake
    create  vendor/plugins/01_app_loader/test/01_app_loader_test.rb
  </code></pre>

  <p>Then you open the <code>vendor/plugins/01_app_loader/init.rb</code> file and paste this into it:</p>

  <pre><code>require RAILS_ROOT + '/config/app'
  </code></pre>

  <p>That&#8217;s it! It should work now, as you&#8217;d expect.</p>

  <p><strong>Option Two</strong></p>

  <p>Update the <code>vendor/plugins/comatose/init.rb</code> and add the same <code>require RAILS_ROOT + '/config/app'</code> to the very top of the file.</p>

  <p>I don&#8217;t really recommend this way, however. You&#8217;d have to redo it if you updated Comatose.</p>

  <p><strong>Notes</strong></p>

  <p>If you&#8217;ve already installed Comatose, you&#8217;ll need to uninstall it before you create the new plugin. After you&#8217;ve pasted the startup code, you can re-install Comatose, generate the migration and go to town!</p>


  </div>
</div>
        <br /><br />
        <div id="post-content-ad">
          <script type="text/javascript"><!--
           google_ad_client = "pub-4148538552356376";
           google_alternate_color = "FFFFFF";
           google_ad_width = 468;
           google_ad_height = 60;
           google_ad_format = "468x60_as";
           google_ad_type = "text_image";
           google_ad_channel ="3834916953";
           google_color_border = "CCCCCC";
           google_color_bg = "FFFFFF";
           google_color_link = "7F7F7F";
           google_color_text = "000000";
           google_color_url = "008000";
          //--></script>
          <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
        </div>
      </div>
      <div class="footer">
        <p><a href="http://github.com/darthapo/comatose">Comatose</a> is developed by <a href="http://mattmccray.com">M@ McCray</a> and is released under the MIT license. This site was generated with <a href="http://github.com/darthapo/stratus">Stratus</a>.</p>
        <!-- <p>Copyright M@ McCray.</p> -->
      </div>
    </div>
  </body>
  <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
  <script type="text/javascript">
  _uacct = "UA-632821-3";
  urchinTracker();
  </script>
</html>