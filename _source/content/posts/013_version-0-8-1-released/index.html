<head>
  <title>Version 0.8.1 Released</title>
  <meta name="publish-date" content="2007-06-29 00:00"/>
  <meta name="tags" content="releases">
</head>
<summary>
  <p>I know it&#8217;s been a long time coming, but here it is: <a href="http://mattmccray.com/svn/rails/plugins/comatose">Comatose 0.8.1</a>!</p>
</summary>
<body>
  <p>I know it&#8217;s been a long time coming, but here it is: <a href="http://mattmccray.com/svn/rails/plugins/comatose">Comatose 0.8.1</a>!</p>

  <p>Over the next few days, I&#8217;ll be transitioning from RubyForge over to <a href="http://code.google.com/p/comatose-plugin">Google Code</a> and <a href="http://groups.google.com/group/comatose-plugin">Google Groups</a> please start using them for reporting bugs and such.</p>

  <p>Here are the important URLs:</p>

  <ul>
  <li><a href="http://code.google.com/p/comatose-plugin">http://code.google.com/p/comatose-plugin</a></li>
  <li><a href="http://groups.google.com/group/comatose-plugin">http://groups.google.com/group/comatose-plugin</a></li>
  </ul>

  <p>I&#8217;ve also updated the docs to reflect the new 0.8+ way of doing things. They&#8217;ll wind up on the <a href="http://code.google.com/p/comatose-plugin/w/list">wiki</a> so that they&#8217;ll be easily maintained by all.</p>

  <p>From the changelog:</p>

  <ul>
  <li>All includes and helpers are loaded at the end of the <code>ComatoseController</code> and <code>ComatoseAdminController</code> classes</li>
  <li>Fixed the <code>ComatoseController#show</code> action to correctly send an HTTP status of 404 even if it finds, and renders, a page at &#8216;/404&#8217;</li>
  <li>Fixed the migration to default a page&#8217;s <code>full_path</code> to &#8221; instead of null</li>
  <li>Formalized <code>ComatoseDrops</code>. Use <code>Comatose.define_drop "drop_name", do ... end</code>. Every method within that block should return a value for use with a Liquid and/or ERB template. Usage in a comatose page: <code>{{ drop_name.def_name }}</code></li>
  <li>Added support for a <code>config.after_setup</code> block that gets called after Comatose is setup (in the <code>Dispatcher#to_prepare</code> event)</li>
  <li>Added HTML comment output for calls that result in a <code>method_missing</code> on the <code>ProcessingContext</code></li>
  <li>Updated page tree to remember collapsed/expanded nodes between page visits</li>
  <li>Fixed some errors that were caused by null revisions (usually happened after initial installation)</li>
  <li>Added my javascript test_runner lib for testing slugs generated by JavaScript. More JS tests to come.</li>
  <li>Bugfix #8640 (rubyforge bug)</li>
  </ul>

  <p>And from Version 0.8 (the version before):</p>

  <ul>
  <li>Now ONLY supports Rails 1.2 (not even tested in Rails 1.1)</li>
  <li>New configuration system</li>
  <li><code>DEFER_COMATOSE_LOAD</code> is gone &#8212; Using <code>Dispatcher.to_prepare</code> replaces it</li>
  <li>You no longer extend the base classes to add functionality. You configure Comatose to include modules and send it symbols for providing said functionality. e.g. <code>Comatose.config.includes &lt;&lt; :authentication_system; Comatose.config.authorization = :require_login</code></li>
  <li>The automatic loading of <code>RAILS_ROOT/lib/comatose/*.rb</code> files is NO longer supported. </li>
  <li>In addition to mapping <code>comatose_root</code> in your <code>routes.rb</code>, you&#8217;ll want to <code>map.comatose_admin</code> as well</li>
  </ul>

</body>
